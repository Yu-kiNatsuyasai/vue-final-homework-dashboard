{"version":3,"file":"js/240.2539d407.js","mappings":"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","sources":["webpack://vue-final-homework/./src/views/OrderList.vue","webpack://vue-final-homework/./src/components/OrderModal.vue","webpack://vue-final-homework/./src/components/OrderModal.vue?b91a","webpack://vue-final-homework/./src/views/OrderList.vue?7649"],"sourcesContent":["<template>\n  <VLoading :active=\"isLoading\"></VLoading>\n  <div class=\"text-end\">\n    <button class=\"btn btn-danger\" type=\"button\" @click=\"openDelModal({id: 'all',title: '所有訂單'})\">\n      刪除所有訂單\n    </button>\n  </div>\n  <h1>訂單列表</h1>\n  <table class=\"table mt-4\">\n    <thead>\n      <tr>\n        <th>購買時間</th>\n        <th>Email</th>\n        <th>購買款項</th>\n        <th>應付金額</th>\n        <th>是否付款</th>\n        <th>編輯</th>\n      </tr>\n    </thead>\n    <tbody>\n      <template v-for=\"order in orders\" :key=\"order.id\">\n        <tr v-if=\"orders.length\" :class=\"{'text-secondary': !order.is_paid}\">\n          <td>{{ $filters.date(order.create_at) }}</td>\n          <td><span v-text=\"order.user.email\" v-if=\"order.user\"></span></td>\n          <td>\n            <ul class=\"list-unstyled\">\n              <li v-for=\"product in order.products\" :key=\"product.id\">\n                {{product.product.title}} 數量：{{product.qty}}{{product.product.unit}}\n              </li>\n            </ul>\n          </td>\n          <td class=\"text-right\">{{order.total}}</td>\n          <td>\n            <div class=\"form-check form-switch\">\n              <input type=\"checkbox\" class=\"form-check-input\" :id=\"`${order.id}paid`\" v-model=\"order.is_paid\" @change=\"updatePaid(order)\">\n              <label class=\"form-check-label\" :for=\"`${order.id}paid`\">\n                <span v-if=\"order.is_paid\">已付款</span>\n                <span v-else>未付款</span>\n              </label>\n            </div>\n          </td>\n          <td>\n            <div class=\"btn-group\">\n              <button class=\"btn btn-outline-primary btn-sm\" @click=\"openModal(false,order)\">檢視</button>\n              <button class=\"btn btn-outline-danger btn-sm\" @click=\"openDelModal(order)\">刪除</button>\n            </div>\n          </td>\n        </tr>\n      </template>\n    </tbody>\n  </table>\n  <Pagination :pages=\"pagination\" @emit-pages=\"getOrders\"> </Pagination>\n  <order-modal ref=\"orderModal\" :order=\"tempOrder\" @update-order=\"updateOrder\"></order-modal>\n  <del-modal ref=\"delModal\" :item=\"tempOrder\" @del-item=\"delOrder\">\n  </del-modal>\n</template>\n\n<script>\nimport OrderModal from '../components/OrderModal.vue'\nimport DelModal from '../components/DelModal.vue'\nimport Pagination from '../components/PaginationComponent.vue'\n\nexport default {\n  components: {\n    OrderModal,\n    DelModal,\n    Pagination\n  },\n  inject: ['ajaxStateMessage'],\n  data () {\n    return {\n      orders: [],\n      pagination: {},\n      tempOrder: {},\n      isNew: false,\n      isLoading: false\n    }\n  },\n  methods: {\n    getOrders (page = 1) {\n      this.isLoading = true\n      const apiUrl = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${page}`\n      this.$http\n        .get(apiUrl)\n        .then((res) => {\n          if (res.data.success) {\n            // this.orders = res.data.orders\n            // this.pagination = res.data.pagination\n            // 先用假資料\n            this.orders = [\n              {\n                create_at: 1523539834,\n                id: '-L9u2EUkQSoEmW7QzGLF',\n                is_paid: true,\n                message: '這是留言',\n                paid_date: 1523539924,\n                payment_method: 'credit_card',\n                products: {\n                  L8nBrq8Ym4ARI1Kog4t: {\n                    product: {\n                      title: '美味的甜甜花釀雞',\n                      unit: '盤'\n                    },\n                    id: 'L8nBrq8Ym4ARI1Kog4t',\n                    product_id: '-L8moRfPlDZZ2e-1ritQ',\n                    qty: '3',\n                    final_total: 8700\n                  },\n                  L8nBrq8Ym4ARI1Kog4y: {\n                    product: {\n                      title: '肉肉烤蘑菇披薩',\n                      unit: '盤'\n                    },\n                    id: 'L8nBrq8Ym4ARI1Kog4y',\n                    product_id: '-L8moRfPlDZZ2e-1ritR',\n                    qty: '3',\n                    final_total: 87\n                  }\n                },\n                total: 8787,\n                user: {\n                  address: 'kaohsiung',\n                  email: 'test@gmail.com',\n                  name: 'test',\n                  tel: '0912346768'\n                },\n                num: 1\n              },\n              {\n                create_at: 1523539519,\n                id: '-L9u11NAE0m0SpSBUDIq',\n                is_paid: false,\n                message: '這是留言',\n                payment_method: 'credit_card',\n                products: {\n                  L8nBrq8Ym4ARI1Kog4t: {\n                    product: {\n                      title: '美味的甜甜花釀雞',\n                      unit: '盤'\n                    },\n                    id: 'L8nBrq8Ym4ARI1Kog4t',\n                    product_id: '-L8moRfPlDZZ2e-1ritQ',\n                    qty: '3',\n                    final_total: 8700\n                  }\n                },\n                total: 8700,\n                user: {\n                  address: 'kaohsiung',\n                  email: 'test@gmail.com',\n                  name: 'test',\n                  tel: '0912346768'\n                },\n                num: 2\n              }\n            ]\n            this.pagination = {\n              total_pages: 1,\n              current_page: 1,\n              has_pre: false,\n              has_next: false,\n              category: null\n            }\n            this.isLoading = false\n          } else {\n            console.log(res.data.error)\n            alert(res.data.message + '，' + res.data.error.message)\n          }\n          this.isLoading = false\n        })\n        .catch((err) => {\n          console.log(err)\n          this.isLoading = false\n        })\n    },\n    openModal (isNew, item) {\n      // 若非新增則傳入現有訂單\n      if (isNew) {\n        this.tempOrder = {}\n      } else {\n        this.tempOrder = { ...item }\n      }\n      this.isNew = isNew\n      this.$refs.orderModal.showModal() // 打開視窗\n    },\n    updateOrder (item) {\n      this.isLoading = true\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`\n      this.$http.put(api, { data: item }).then((res) => {\n        this.isLoading = false\n        this.$refs.orderModal.hideModal() // 關閉刪除視窗\n        this.getOrders()\n        this.ajaxStateMessage(res, '更新訂單')\n      })\n    },\n    updatePaid (item) {\n      this.isLoading = true\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`\n      const paid = {\n        is_paid: item.is_paid\n      }\n      this.$http.put(api, { data: paid }).then((res) => {\n        this.isLoading = false\n        this.getOrders()\n        this.ajaxStateMessage(res, '更新付款狀態')\n      })\n    },\n    openDelModal (item) {\n      // 打開刪除視窗\n      this.tempOrder = { ...item }\n      this.$refs.delModal.showModal()\n    },\n    delOrder (item) {\n      this.isLoading = true\n      let apiUrl = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`\n      if (item.id === 'all') {\n        apiUrl = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders/all`\n      }\n      this.$http.delete(apiUrl)\n        .then(res => {\n          if (res.data.success) {\n            // console.log(res.data)\n            this.$refs.delModal.hideModal() // 關閉刪除視窗\n            this.getOrders() // 重新取得清單\n          }\n          this.ajaxStateMessage(res, '刪除')\n          this.isLoading = false\n        })\n        .catch(err => {\n          console.log(err)\n          this.isLoading = false\n        })\n    }\n  },\n  created () {\n    this.getOrders()\n  }\n}\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    id=\"productModal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span>訂單細節</span>\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-md-4\">\n              <h3>用戶資料</h3>\n              <table class=\"table\">\n                <tbody v-if=\"tempOrder.user\">\n                  <tr>\n                    <th style=\"width: 100px\">姓名</th>\n                    <td>{{ tempOrder.user.name }}</td>\n                  </tr>\n                  <tr>\n                    <th>Email</th>\n                    <td>{{ tempOrder.user.email }}</td>\n                  </tr>\n                  <tr>\n                    <th>電話</th>\n                    <td>{{ tempOrder.user.tel }}</td>\n                  </tr>\n                  <tr>\n                    <th>地址</th>\n                    <td>{{ tempOrder.user.address }}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n            <div class=\"col-md-8\">\n              <h3>訂單細節</h3>\n              <table class=\"table\">\n                <tbody>\n                  <tr>\n                    <th style=\"width: 100px\">訂單編號</th>\n                    <td>{{ tempOrder.id }}</td>\n                  </tr>\n                  <tr>\n                    <th>下單時間</th>\n                    <td>{{ $filters.date(tempOrder.create_at) }}</td>\n                  </tr>\n                  <tr>\n                    <th>付款時間</th>\n                    <td>\n                      <span v-if=\"tempOrder.paid_date\">\n                        {{ $filters.date(tempOrder.paid_date) }}\n                      </span>\n                      <span v-else>時間不正確</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>付款狀態</th>\n                    <td>\n                      <strong v-if=\"tempOrder.is_paid\" class=\"text-success\"\n                        >已付款</strong\n                      >\n                      <span v-else class=\"text-muted\">尚未付款</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>總金額</th>\n                    <td>\n                      {{ $filters.currency(tempOrder.total) }}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n              <h3>選購商品</h3>\n              <table class=\"table\">\n                <thead>\n                  <tr></tr>\n                </thead>\n                <tbody>\n                  <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\n                    <th>\n                      {{ item.product.title }}\n                    </th>\n                    <td>{{ item.qty }} / {{ item.product.unit }}</td>\n                    <td class=\"text-end\">\n                      {{ $filters.currency(item.final_total) }}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn-primary\"\n            @click=\"$emit('update-order', tempOrder)\"\n          >\n            更新\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport modalMixin from '@/mixins/modalMixin'\nexport default {\n  name: 'orderModal',\n  props: {\n    order: {\n      type: Object,\n      default () {\n        return {}\n      }\n    }\n  },\n  data () {\n    return {\n      status: {},\n      modal: '',\n      tempOrder: {},\n      isPaid: false\n    }\n  },\n  mixins: [modalMixin],\n  watch: {\n    order () {\n      this.tempOrder = this.order\n      this.isPaid = this.tempOrder.is_paid\n    }\n  }\n}\n</script>\n","import { render } from \"./OrderModal.vue?vue&type=template&id=521f2d14\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Asolution\\\\vue-final-homework\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OrderList.vue?vue&type=template&id=5c41f838\"\nimport script from \"./OrderList.vue?vue&type=script&lang=js\"\nexport * from \"./OrderList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Asolution\\\\vue-final-homework\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createVNode","_component_VLoading","active","$data","type","onClick","$options","id","title","_hoisted_2","_hoisted_4","_createElementBlock","_Fragment","_renderList","order","length","is_paid","_toDisplayString","_ctx","date","create_at","user","email","products","product","key","qty","unit","total","$event","onChange","for","_hoisted_11","_hoisted_12","_hoisted_14","_hoisted_15","_component_Pagination","pages","onEmitPages","_component_order_modal","ref","onUpdateOrder","_component_del_modal","item","onDelItem","tabindex","role","style","_hoisted_8","_hoisted_10","name","_hoisted_13","tel","address","_hoisted_16","_hoisted_18","_hoisted_19","_hoisted_20","paid_date","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_26","currency","_hoisted_27","_hoisted_29","final_total","_hoisted_32","props","Object","default","data","status","modal","tempOrder","isPaid","mixins","modalMixin","watch","this","__exports__","components","OrderModal","DelModal","Pagination","inject","orders","pagination","isNew","isLoading","methods","getOrders","page","apiUrl","$http","get","then","res","success","message","payment_method","L8nBrq8Ym4ARI1Kog4t","product_id","L8nBrq8Ym4ARI1Kog4y","num","total_pages","current_page","has_pre","has_next","category","console","log","error","alert","catch","err","openModal","$refs","orderModal","showModal","updateOrder","api","put","hideModal","ajaxStateMessage","updatePaid","paid","openDelModal","delModal","delOrder","delete","created","render"],"sourceRoot":""}